<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ˜¼ã¨å¤œã®ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ</title>
<style>
  /* =========================================
     1. è‰²ã®å¤‰æ•°è¨­å®šï¼ˆæ˜¼ã¨å¤œï¼‰
     ã“ã®å¤‰æ•°ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ã“ã¨ã§å…¨ä½“ã®è‰²ãŒæ»‘ã‚‰ã‹ã«å¤‰åŒ–ã—ã¾ã™
  ========================================= */
  :root {
    --page-bg: #e6f7ff;         /* ç”»é¢å…¨ä½“ã®èƒŒæ™¯ï¼ˆæ˜¼ï¼‰ */
    --text-color: #333;         /* æ–‡å­—è‰²ï¼ˆæ˜¼ï¼‰ */
    --sky-color: #87ceeb;       /* ã‚¤ãƒ©ã‚¹ãƒˆã®ç©ºã®è‰²ï¼ˆæ˜¼ï¼‰ */
    --sun-y: 50px;              /* å¤ªé™½ã®ç¸¦ä½ç½®ï¼ˆæ˜¼ã¯ä¸Šï¼‰ */
    --moon-y: 350px;            /* æœˆã®ç¸¦ä½ç½®ï¼ˆæ˜¼ã¯ä¸‹ã«éš ã‚Œã‚‹ï¼‰ */
    --stars-opacity: 0;         /* æ˜Ÿã®é€æ˜åº¦ï¼ˆæ˜¼ã¯è¦‹ãˆãªã„ï¼‰ */
    --cloud-opacity: 1;         /* é›²ã®é€æ˜åº¦ï¼ˆæ˜¼ã¯è¦‹ãˆã‚‹ï¼‰ */
    --switch-bg: #a5d8ff;       /* ã‚¹ã‚¤ãƒƒãƒã®èƒŒæ™¯ï¼ˆæ˜¼ï¼‰ */
  }

  /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ï¼ˆå¤œï¼‰ã®æ™‚ã®è¨­å®š */
  body.dark-mode {
    --page-bg: #11111b;         /* ç”»é¢å…¨ä½“ã®èƒŒæ™¯ï¼ˆå¤œï¼‰ */
    --text-color: #e6e6e6;      /* æ–‡å­—è‰²ï¼ˆå¤œï¼‰ */
    --sky-color: #1a1a3a;       /* ã‚¤ãƒ©ã‚¹ãƒˆã®ç©ºã®è‰²ï¼ˆå¤œï¼‰ */
    --sun-y: 350px;             /* å¤ªé™½ã®ç¸¦ä½ç½®ï¼ˆå¤œã¯ä¸‹ã«æ²ˆã‚€ï¼‰ */
    --moon-y: 60px;             /* æœˆã®ç¸¦ä½ç½®ï¼ˆå¤œã¯ä¸Šï¼‰ */
    --stars-opacity: 1;         /* æ˜Ÿã®é€æ˜åº¦ï¼ˆå¤œã¯å…‰ã‚‹ï¼‰ */
    --cloud-opacity: 0.1;       /* é›²ã®é€æ˜åº¦ï¼ˆå¤œã¯æš—ããªã‚‹ï¼‰ */
    --switch-bg: #3b3b5c;       /* ã‚¹ã‚¤ãƒƒãƒã®èƒŒæ™¯ï¼ˆå¤œï¼‰ */
  }

  /* =========================================
     2. ç”»é¢å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  ========================================= */
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-color: var(--page-bg);
    color: var(--text-color);
    font-family: 'Arial', sans-serif;
    transition: background-color 0.8s ease, color 0.8s ease;
  }

  h1 {
    margin-bottom: 40px;
    font-size: 24px;
    letter-spacing: 2px;
  }

  /* =========================================
     3. ã‚¤ãƒ©ã‚¹ãƒˆéƒ¨åˆ†ï¼ˆçª“ï¼‰
  ========================================= */
  .window {
    width: 300px;
    height: 300px;
    border-radius: 50%; /* ä¸¸ã„çª“ */
    background-color: var(--sky-color);
    position: relative;
    overflow: hidden; /* çª“ã‹ã‚‰ã¯ã¿å‡ºãŸéƒ¨åˆ†ã¯éš ã™ */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2) inset, 
                0 20px 40px rgba(0, 0, 0, 0.1);
    transition: background-color 0.8s ease;
    margin-bottom: 40px;
  }

  /* å¤ªé™½ */
  .sun {
    width: 80px;
    height: 80px;
    background-color: #ffd700;
    border-radius: 50%;
    position: absolute;
    left: 110px;
    top: var(--sun-y);
    box-shadow: 0 0 40px #ffdf00;
    transition: top 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  /* æœˆï¼ˆä¸‰æ—¥æœˆã®å½¢ã‚’box-shadowã§ä½œã‚‹ï¼‰ */
  .moon {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background-color: transparent;
    box-shadow: 20px -10px 0 0 #f6f1d5; /* ã“ã“ãŒä¸‰æ—¥æœˆã®æœ¬ä½“ */
    position: absolute;
    left: 80px;
    top: var(--moon-y);
    transition: top 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  /* é›² */
  .cloud {
    width: 120px;
    height: 40px;
    background: #fff;
    border-radius: 20px;
    position: absolute;
    bottom: 40px;
    left: 40px;
    opacity: var(--cloud-opacity);
    transition: opacity 0.8s ease;
  }
  .cloud::before {
    content: '';
    position: absolute;
    width: 60px;
    height: 60px;
    background: #fff;
    border-radius: 50%;
    top: -30px;
    left: 20px;
  }
  .cloud::after {
    content: '';
    position: absolute;
    width: 40px;
    height: 40px;
    background: #fff;
    border-radius: 50%;
    top: -15px;
    left: 70px;
  }

  /* æ˜Ÿï¼ˆCSSã®å½±ã‚’ä½¿ã£ã¦è¤‡æ•°ã®ç‚¹ã‚’æç”»ï¼‰ */
  .stars {
    width: 3px;
    height: 3px;
    background: transparent;
    border-radius: 50%;
    position: absolute;
    top: 50px;
    left: 60px;
    box-shadow: 
      100px 20px #fff,
      180px 80px #fff,
      40px 120px #fff,
      220px 150px #fff,
      140px 180px #fff;
    opacity: var(--stars-opacity);
    transition: opacity 0.8s ease;
  }

  /* =========================================
     4. ã“ã ã‚ã‚Šã®ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ï¼ˆã‚¹ã‚¤ãƒƒãƒï¼‰
  ========================================= */
  .toggle-btn {
    width: 100px;
    height: 50px;
    background-color: var(--switch-bg);
    border-radius: 25px;
    border: none;
    cursor: pointer;
    position: relative;
    padding: 5px;
    box-shadow: inset 0 3px 6px rgba(0,0,0,0.2);
    transition: background-color 0.5s ease;
    outline: none;
  }

  /* ã‚¹ã‚¤ãƒƒãƒã®å‹•ãä¸¸ã„ãƒ„ãƒãƒŸ */
  .toggle-thumb {
    width: 40px;
    height: 40px;
    background-color: #fff;
    border-radius: 50%;
    position: absolute;
    top: 5px;
    left: 5px; /* æ˜¼ã¯å·¦ */
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 20px;
    transition: left 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55), transform 0.5s;
    /* â†‘ ãƒãƒã®ã‚ˆã†ã«å°‘ã—ãƒ“ãƒ¨ãƒ¼ãƒ³ã¨ãªã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆcubic-bezierï¼‰ */
  }

  /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰æ™‚ã®ãƒ„ãƒãƒŸã®ä½ç½®ï¼ˆå³ã¸ç§»å‹•ï¼‰ */
  body.dark-mode .toggle-thumb {
    left: 55px; /* å³ã«ç§»å‹• */
    transform: rotate(360deg); /* ç§»å‹•ã—ãªãŒã‚‰1å›è»¢ã™ã‚‹ */
  }

</style>
</head>
<body>

  <h1>Mode Switch</h1>

  <!-- ã‚¤ãƒ©ã‚¹ãƒˆéƒ¨åˆ†ï¼ˆä¸¸ã„çª“ï¼‰ -->
  <div class="window">
    <div class="stars"></div>
    <div class="sun"></div>
    <div class="moon"></div>
    <div class="cloud"></div>
  </div>

  <!-- ã“ã ã‚ã‚Šã®ã‚¹ã‚¤ãƒƒãƒãƒœã‚¿ãƒ³ -->
  <button class="toggle-btn" id="themeSwitch" aria-label="ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ">
    <div class="toggle-thumb" id="thumbIcon">â˜€ï¸</div>
  </button>

  <script>
    // JavaScript: ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã®å‡¦ç†
    const themeSwitch = document.getElementById('themeSwitch');
    const thumbIcon = document.getElementById('thumbIcon');

    themeSwitch.addEventListener('click', () => {
      // bodyã« "dark-mode" ã¨ã„ã†ã‚¯ãƒ©ã‚¹ã‚’ã¤ã‘ãŸã‚Šå¤–ã—ãŸã‚Šã™ã‚‹
      document.body.classList.toggle('dark-mode');

      // ã‚¹ã‚¤ãƒƒãƒã®ä¸­ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¤ªé™½ã¨æœˆã«åˆ‡ã‚Šæ›¿ãˆã‚‹
      if (document.body.classList.contains('dark-mode')) {
        thumbIcon.textContent = 'ğŸŒ™';
      } else {
        thumbIcon.textContent = 'â˜€ï¸';
      }
    });
  </script>

</body>
</html>